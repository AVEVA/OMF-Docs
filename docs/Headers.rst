Headers
=======
The following headers are supported in version |version| of the message specification. Headers may be added to or removed from the specification over time. Backwards compatibility is achievable through the version header. The message processor uses the version header to determine whether a given message should be processed using older message specifications.

Required Headers
----------------

``producertoken``

A unique token generated by the destination system used to identify and authorize a given OMF producer. Consult the Qi or PI Connector Relay documentation for further information.

``messagetype``

Describes the type of message contained in the message body. One of: ``type``, ``object``, ``stream``, or ``data``. See :doc:`Message_Types`.

``messageformat``

Describes the data serialization format employed in the message body. Currently limited to ``json``.

Optional Headers
----------------

``version``

Specifies the version of the OSIsoft Message Format used in the message. Used by the message processor to determine how to process the remaining headers and body. If omitted, it is assumed to comply with the target system's default message version. If the message contains headers belonging to an older specification, the version should be included to ensure that the message will be processed appropriately.

``action``

One of: ``create``, ``update``, or ``delete``. Describes the action to be performed using the data in the message body. If not specified, ``create`` is assumed.

``compression``

The compression algorithm used to compress the message body. Currently limited to ``gzip``. If not specified, the message body is assumed to be uncompressed.

